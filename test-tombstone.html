<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tombstone Icon Test</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
    <!-- Use the pro resource in node_modules-->
    <link rel="stylesheet" href="node_modules/@fortawesome/fontawesome-pro/css/all.min.css">
    <link rel="stylesheet" href="src/css/bootstrap-iconpicker.css">
</head>
<body>
    <div class="container mt-5">
        <h1>FontAwesome Tombstone Icon Test</h1>
        <p>This page tests that the tombstone icon (fa-tombstone) is available in Pro versions.</p>
        
        <div class="row">
            <div class="col-md-4">
                <h3>FA7 Pro Tombstone Test</h3>
                <div class="form-group">
                    <label>Select FA7 Pro Tombstone:</label>
                    <div id="fa7-pro-picker" role="iconpicker" data-iconset="fontawesome7" data-icon="fat fa-tombstone" class="btn btn-secondary"></div>
                    <button class="btn btn-secondary" data-iconset="fontawesome7" role="iconpicker"></button>
                </div>
                <p>Available styles:</p>
                <ul>
                    <li><i class="fat fa-tombstone"></i> fat fa-tombstone</li>
                    <li><i class="fal fa-tombstone"></i> fal fa-tombstone</li>
                    <li><i class="far fa-tombstone"></i> far fa-tombstone</li>
                    <li><i class="fad fa-tombstone"></i> fad fa-tombstone</li>
                    <li><i class="fas fa-tombstone"></i> fas fa-tombstone</li>
                </ul>
                <p class="mt-2">
                    Resolved version: <code id="fa7-resolved-version">pending...</code><br>
                    Pro CSS detected: <code id="fa7-has-pro">pending...</code>
                </p>
            </div>
        </div>
        
        <div class="alert alert-info mt-4">
            <h4>Test Instructions:</h4>
            <ol>
                <li>Click on any of the icon picker buttons above</li>
                <li>Search for "tombstone" in the search box</li>
                <li>Verify that tombstone icons appear in the picker</li>
                <li>Select a tombstone icon to confirm it works</li>
            </ol>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="dist/js/bootstrap-iconpicker.bundle.min.js"></script>
    <script>
        $(document).ready(function() {
            $('[role="iconpicker"]').iconpicker({
                search: true,
                searchText: 'Search icons...'
            });
            
            // Test if tombstone icons are available programmatically
            const picker = $('#fa7-pro-picker');
            const instance = picker.data('bs.iconpicker');
            if (instance) {
                const options = instance.options;
                $('#fa7-resolved-version').text(options.iconsetVersionResolved || '(none)');
                $('#fa7-has-pro').text(options.iconsetHasPro ? 'yes' : 'no');
                console.log('Resolved iconset version:', options.iconsetVersionResolved);
                console.log('Pro CSS detected:', options.iconsetHasPro);

                if (typeof $.iconset_fontawesome_7 !== 'undefined' && Array.isArray($.iconset_fontawesome_7.allVersions)) {
                    const activeVersion = $.iconset_fontawesome_7.allVersions.find(v => v.version === options.iconsetVersionResolved);
                    if (activeVersion) {
                        const hasTombstone = activeVersion.icons.some(icon => icon.indexOf('tombstone') !== -1);
                        console.log('Selected version exposes tombstone:', hasTombstone);
                    }
                }
            }
        });
    </script>
</body>
</html>